"use strict";angular.module("ngDataGrid",[]).directive("grid",function(){return{restrict:"E",templateUrl:"gridTemplate.html",scope:{options:"=gridOptions",optionsChange:"=gridOptionsChange",columns:"=gridColumns",data:"=gridData"},controller:function(a){this.$scope=a},link:function(a){a.options=angular.extend({},{showHeaders:!0},a.options),angular.forEach(a.columns,function(b,c){a.columns[c]=angular.extend({},{visible:!0},b)})}}}).directive("gridHeaderOptions",function(){return{restrict:"A",scope:{column:"=gridHeaderOptions"},link:function(a,b){if(a.column){var c=angular.element(b),d=a.column.headerOptions&&a.column.headerOptions.cssClass||a.column.cssClass;d&&c.addClass(d);var e=a.column.headerOptions&&a.column.headerOptions.width;e&&c.css("width",e)}}}}).directive("gridCellOptions",function(){return{restrict:"A",scope:{data:"=gridCellOptions"},link:function(a,b){var c=a.data[0],d=a.data[1],e=function(a,b){var c=b[a.name];if(a.decorator){if(angular.isString(a.decorator))return a.decorator.replace("{{s}}",c);if(angular.isFunction(a.decorator))return a.decorator(a,b)}return c},f=c.cssClass;f&&b.addClass(f);var g=e(c,d);b.html(g||"")}}}),angular.module("ngDataGrid").run(["$templateCache",function(a){a.put("gridTemplate.html",'<div class=grid-wrap><div class=grid-options-btn dropdown><div dropdown-toggle class="btn btn-default"><i class="fa fa-gear"></i></div><ul class="dropdown-menu dropdown-menu-right"><li><a href=# ng-click="options.showHeaders = !options.showHeaders"><i class="fa fa-fw" ng-class="{\'fa-check\': options.showHeaders}"></i> Показывать заголовок таблицы</a></li><li class=divider></li><li class=dropdown-header>Показывать колонки</li><li ng-repeat="column in columns"><a href=# ng-click="column.visible = !column.visible"><i class="fa fa-fw" ng-class="{\'fa-check\': column.visible !== false}"></i> {{column.title}}</a></li></ul></div><table class="table table-bordered"><tr ng-show=options.showHeaders><th ng-repeat="column in columns" ng-if="column.visible !== false" grid-header-options=column>{{column.title}}</th></tr><tr ng-repeat="row in data"><td ng-repeat="column in columns" ng-if="column.visible !== false" grid-cell-options="[column, row]"></td></tr></table></div>')}]);